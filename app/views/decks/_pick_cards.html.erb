<h2>Pick cards</h2>

<div class="row">
    <%= form_tag(decks_new_add_card_path, method: 'post', id: 'cardsPicker') do %>
        <% @cards.each do |card| %>
            <p>
                <%= radio_button_tag 'card', card.id %>
                <%= label_tag('card_' + card.id.to_s,  card.name)  %>
            </p>
        <% end %>
        <input id="pickCards" type="submit" value="next">
    <% end %>
</div>

<script>
    (function($, window, document) {
        var validateCard = function() {
            $('form#cardsPicker').submit(function(e) {
                var selectedCard = $('input:checked[name=card]');
                if(!selectedCard.length || !selectedCard.val().length) {
                    e.preventDefault();
                    warnUser();
                }
            })
        };

        var warnUser = function() {
            $('p.hero-alert').show();
        };

        $(function() {
            validateCard();
        });
    }(window.jQuery, window, document));
</script>